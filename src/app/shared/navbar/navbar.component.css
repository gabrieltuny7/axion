/* ===== Navbar (Axion) ===== */

/* Barra fixa no topo — altura constante evita "tremor" ao rolar */
.bar{
  position: sticky; top:0; z-index: 9999;
  display:flex; align-items:center; justify-content:space-between;

  height: 64px;
  padding: 0 20px;

  background: rgba(15,23,38,.72);
  border-bottom:1px solid rgba(122,228,255,.16);

  /* Transições apenas visuais (sem relayout) */
  transition: background-color .2s ease, box-shadow .2s ease, opacity .2s ease;

  /* Estabilidade do blur e evita clipping do dropdown */
  overflow: visible;
  backdrop-filter: saturate(140%) blur(6px);
  -webkit-backdrop-filter: saturate(140%) blur(6px);
  transform: translateZ(0);
  will-change: backdrop-filter, box-shadow, opacity;
  contain: none;
}

.bar.compact{
  /* Mantém altura; só adiciona sombra */
  box-shadow:0 6px 24px rgba(0,0,0,.35);
}

/* ===== Marca ===== */
.brand { display:flex; align-items:center; gap:10px; margin-right:auto; flex-shrink:0; }
.brand img{ height:36px; filter: drop-shadow(0 0 6px var(--ax-primary)); }
.brand-text{ font-weight:700; letter-spacing:.5px; color:var(--ax-text); }
.brand-text small{ font-weight:400; opacity:.8; }

/* ===== Menu (mobile-first) ===== */
.menu{
  display: none;
  gap: 22px;
  align-items: center;
}

/* Links (se usados) */
.menu a{
  position:relative; font-weight:600; letter-spacing:.4px;
  color:var(--ax-text); opacity:.92; text-transform:uppercase; padding:8px 2px;
}
.menu a::after{
  content:''; position:fixed; left:0; bottom:-2px; width:0; height:2px;
  background: linear-gradient(90deg, var(--ax-primary), var(--ax-accent));
  transition: width .25s ease;
}
.menu a:hover::after{ width:100%; }
.menu a.active{ color:var(--ax-primary); }
.menu a.active::after{ width:100%; }

/* ===== Controles (selects/botões) ===== */
.nav-selects{ display:flex; align-items:center; gap:12px; }

/* Select com identidade visual Axion */
.nav-select{
  appearance: none;
  -webkit-appearance: none;
  -moz-appearance: none;

  background: rgba(10,16,26,.60);
  border: 1px solid rgba(122,228,255,.25);
  color: var(--ax-text);

  padding: 8px 32px 8px 12px;
  border-radius: 12px;
  font-weight: 600;
  letter-spacing: .4px;
  text-transform: uppercase;
  line-height: 1;

  transition: border-color .2s ease, box-shadow .2s ease, background-color .2s ease;

  /* Seta embutida */
  background-image: url("data:image/svg+xml;utf8,<svg viewBox='0 0 24 24' fill='none' stroke='rgb(122,228,255)' stroke-width='2' xmlns='http://www.w3.org/2000/svg'><path d='M6 9l6 6 6-6'/></svg>");
  background-repeat: no-repeat;
  background-position: right 10px center;
  background-size: 14px 14px;
}

.nav-select:hover{
  border-color: rgba(122,228,255,.45);
  background: rgba(10,16,26,.70);
}

.nav-select:focus{
  outline: none;
  border-color: rgba(122,228,255,.55);
  box-shadow: 0 0 0 3px rgba(0,209,255,.18);
}

.nav-select.tight-next{ margin-right: 8px; }

/* Botão do carrinho com mesmo visual */
.icon-btn{
  display: inline-flex;
  align-items: center;
  justify-content: center;
  height: 36px; width: 42px;
  border-radius: 12px;
  background: rgba(10,16,26,.60);
  border: 1px solid rgba(122,228,255,.25);
  color: var(--ax-text);
  transition: border-color .2s ease, box-shadow .2s ease, background-color .2s ease;
}

.icon-btn:hover{
  border-color: rgba(122,228,255,.45);
  background: rgba(10,16,26,.70);
  box-shadow: 0 0 18px rgba(0,209,255,.18);
}

/* ===== Acessibilidade ===== */
.sr-only {
  position: absolute !important;
  width: 1px; height: 1px;
  padding: 0; margin: -1px; overflow: hidden;
  clip: rect(0, 0, 0, 0); white-space: nowrap; border: 0;
}

/* ===== Mobile ===== */
.hamb{ display:none; font-size:24px; background:transparent; border:0; color:var(--ax-text); }

@media (max-width:920px){
  /* botão sempre clicável acima do dropdown */
  .hamb{ display:block; position: relative; z-index: 10002; }

  /* dropdown fixo à viewport para não ser clipado */
  .menu{
    display: none;
    position: fixed;
    top: 64px;
    right: 16px;
    flex-direction: column;
    gap: 8px;

    background: rgba(15,23,38,.92);
    border: 1px solid rgba(122,228,255,.25);
    border-radius: 14px;
    padding: 12px;
    width: min(86vw, 360px);

    box-shadow: 0 12px 40px rgba(0,0,0,.45);
    backdrop-filter: blur(10px);
    -webkit-backdrop-filter: blur(10px);

    z-index: 10001;
  }

  /* ABRE quando menuOpen = true (forçado) */
  .menu.open{ display: flex !important; }

  .menu a{ padding:10px 6px; }

  /* Empilha selects no dropdown */
  .nav-selects{ flex-direction:column; align-items:stretch; gap:8px; }
  .nav-select{ width:100%; }
}

/* ===== Desktop ===== */
@media (min-width:921px){
  .menu{
    display:flex;            /* visível no desktop */
    position: static;        /* volta a fluir na barra */
    background: transparent;
    border:0;
    padding:0;
    width:auto;
    box-shadow:none;
    backdrop-filter:none;
    -webkit-backdrop-filter:none;
  }
}
